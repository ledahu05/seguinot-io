@import "tailwindcss";

@theme {
  /* Dark mode (default) colors - Future-Tech aesthetic */
  --color-background: oklch(0.145 0 0);
  --color-foreground: oklch(0.985 0 0);
  --color-card: oklch(0.145 0 0);
  --color-card-foreground: oklch(0.985 0 0);
  --color-popover: oklch(0.145 0 0);
  --color-popover-foreground: oklch(0.985 0 0);
  --color-primary: oklch(0.985 0 0);
  --color-primary-foreground: oklch(0.205 0 0);
  --color-secondary: oklch(0.269 0 0);
  --color-secondary-foreground: oklch(0.985 0 0);
  --color-muted: oklch(0.269 0 0);
  --color-muted-foreground: oklch(0.708 0 0);
  --color-accent: oklch(0.269 0 0);
  --color-accent-foreground: oklch(0.985 0 0);
  --color-destructive: oklch(0.396 0.141 25.723);
  --color-destructive-foreground: oklch(0.637 0.237 25.331);
  --color-border: oklch(0.269 0 0);
  --color-input: oklch(0.269 0 0);
  --color-ring: oklch(0.556 0 0);

  /* Chart colors */
  --color-chart-1: oklch(0.488 0.243 264.376);
  --color-chart-2: oklch(0.696 0.17 162.48);
  --color-chart-3: oklch(0.769 0.188 70.08);
  --color-chart-4: oklch(0.627 0.265 303.9);
  --color-chart-5: oklch(0.645 0.246 16.439);

  /* Radius */
  --radius: 0.625rem;

  /* Sidebar */
  --sidebar-background: oklch(0.145 0 0);
  --sidebar-foreground: oklch(0.708 0 0);
  --sidebar-primary: oklch(0.985 0 0);
  --sidebar-primary-foreground: oklch(0.205 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.556 0 0);
}

/* Light mode overrides */
.light {
  --color-background: oklch(1 0 0);
  --color-foreground: oklch(0.145 0 0);
  --color-card: oklch(1 0 0);
  --color-card-foreground: oklch(0.145 0 0);
  --color-popover: oklch(1 0 0);
  --color-popover-foreground: oklch(0.145 0 0);
  --color-primary: oklch(0.205 0 0);
  --color-primary-foreground: oklch(0.985 0 0);
  --color-secondary: oklch(0.97 0 0);
  --color-secondary-foreground: oklch(0.205 0 0);
  --color-muted: oklch(0.97 0 0);
  --color-muted-foreground: oklch(0.556 0 0);
  --color-accent: oklch(0.97 0 0);
  --color-accent-foreground: oklch(0.205 0 0);
  --color-destructive: oklch(0.577 0.245 27.325);
  --color-destructive-foreground: oklch(0.577 0.245 27.325);
  --color-border: oklch(0.922 0 0);
  --color-input: oklch(0.922 0 0);
  --color-ring: oklch(0.708 0 0);

  /* Sidebar light mode */
  --sidebar-background: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.556 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
      "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* T083: Keyboard focus styles for interactive elements */
@layer base {
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-ring;
  }

  /* Better focus for buttons and links */
  a:focus-visible,
  button:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary;
  }
}

/* T081: Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* T080: Blur placeholder for images */
.image-loading {
  @apply animate-pulse bg-muted;
}

/* T027: Shiki syntax highlighting dual theme support */
.shiki {
  color: var(--shiki-light);
  background-color: var(--shiki-light-bg);
}

.shiki span {
  color: var(--shiki-light);
  background-color: transparent !important;
}

.dark .shiki {
  color: var(--shiki-dark);
  background-color: var(--shiki-dark-bg);
}

.dark .shiki span {
  color: var(--shiki-dark);
  background-color: transparent !important;
}

/* Code block styling - let Shiki handle backgrounds */
.prose pre {
  @apply overflow-x-auto rounded-lg border border-border p-4;
  background-color: transparent !important;
}

.prose pre code {
  @apply p-0 text-sm;
  background-color: transparent !important;
}

/* Inline code styling */
.prose :not(pre) > code {
  @apply rounded bg-muted px-1.5 py-0.5 text-sm font-normal;
}

.prose :not(pre) > code::before,
.prose :not(pre) > code::after {
  content: none;
}

/* Blog prose enhancements - Typography hierarchy and spacing */
.prose h1 {
  @apply text-4xl font-bold mt-12 mb-6 text-foreground;
}

.prose h2 {
  @apply text-3xl font-semibold mt-10 mb-4 pb-2 border-b border-border text-foreground;
}

.prose h3 {
  @apply text-2xl font-semibold mt-8 mb-3 text-foreground;
}

.prose h4 {
  @apply text-xl font-medium mt-6 mb-2 text-foreground;
}

.prose h5 {
  @apply text-lg font-medium mt-4 mb-2 text-muted-foreground uppercase tracking-wide;
}

.prose h6 {
  @apply text-base font-medium mt-4 mb-2 text-muted-foreground uppercase tracking-wide;
}

.prose hr {
  @apply my-8 border-t-2 border-border;
}

.prose blockquote {
  @apply border-l-4 border-primary pl-4 py-2 my-6 bg-muted/30 rounded-r-lg italic;
}

.prose ul,
.prose ol {
  @apply my-4 pl-6;
}

.prose li {
  @apply my-2;
}

.prose table {
  @apply w-full my-6 border-collapse;
}

.prose th {
  @apply bg-muted px-4 py-2 text-left font-semibold border border-border;
}

.prose td {
  @apply px-4 py-2 border border-border;
}

.prose p {
  @apply my-4 leading-relaxed;
}

/* Links - make them visible */
.prose a {
  @apply text-primary underline underline-offset-2 hover:text-primary/80;
}

/* Lists - restore markers */
.prose ul {
  @apply list-disc;
}

.prose ol {
  @apply list-decimal;
}
